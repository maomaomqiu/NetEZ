# NetEZ 性能测试结果记录

## 测试环境

**硬件配置**:
- CPU: _________________________
- 内存: _________________________
- 网络: _________________________
- 磁盘: _________________________

**软件环境**:
- 操作系统: _________________________
- .NET 版本: _________________________
- NetEZ 版本: _________________________

**网络拓扑**:
- [ ] 服务器和客户端在同一台机器 (本地回环)
- [ ] 服务器和客户端在同一局域网
- [ ] 服务器和客户端跨网络

**测试日期**: _________________________

---

## 基准测试结果

### 测试 1: 小消息高并发

| 指标 | 值 |
|-----|---|
| 并发客户端数 | 100 |
| 每客户端消息数 | 1000 |
| 消息大小 | 100 字节 |
| 总消息数 | 100,000 |
| **总耗时** | __________ 秒 |
| **QPS** | __________ |
| **吞吐量** | __________ MB/s |
| **平均延迟** | __________ ms |
| **P99 延迟** | __________ ms |
| **成功率** | _________% |
| **CPU 使用率** | _________% |
| **内存占用** | __________ MB |

### 测试 2: 中等消息

| 指标 | 值 |
|-----|---|
| 并发客户端数 | 50 |
| 每客户端消息数 | 500 |
| 消息大小 | 1 KB |
| 总消息数 | 25,000 |
| **总耗时** | __________ 秒 |
| **QPS** | __________ |
| **吞吐量** | __________ MB/s |
| **平均延迟** | __________ ms |
| **P99 延迟** | __________ ms |
| **成功率** | _________% |
| **CPU 使用率** | _________% |
| **内存占用** | __________ MB |

### 测试 3: 大消息

| 指标 | 值 |
|-----|---|
| 并发客户端数 | 20 |
| 每客户端消息数 | 200 |
| 消息大小 | 10 KB |
| 总消息数 | 4,000 |
| **总耗时** | __________ 秒 |
| **QPS** | __________ |
| **吞吐量** | __________ MB/s |
| **平均延迟** | __________ ms |
| **P99 延迟** | __________ ms |
| **成功率** | _________% |
| **CPU 使用率** | _________% |
| **内存占用** | __________ MB |

### 测试 4: 单客户端持续发送

| 指标 | 值 |
|-----|---|
| 并发客户端数 | 1 |
| 每客户端消息数 | 10,000 |
| 消息大小 | 512 字节 |
| 总消息数 | 10,000 |
| **总耗时** | __________ 秒 |
| **QPS** | __________ |
| **吞吐量** | __________ MB/s |
| **平均延迟** | __________ ms |
| **P99 延迟** | __________ ms |
| **成功率** | _________% |
| **CPU 使用率** | _________% |
| **内存占用** | __________ MB |

### 测试 5: 极限并发连接

| 指标 | 值 |
|-----|---|
| 并发客户端数 | 500 |
| 每客户端消息数 | 100 |
| 消息大小 | 256 字节 |
| 总消息数 | 50,000 |
| **总耗时** | __________ 秒 |
| **QPS** | __________ |
| **吞吐量** | __________ MB/s |
| **平均延迟** | __________ ms |
| **P99 延迟** | __________ ms |
| **成功率** | _________% |
| **CPU 使用率** | _________% |
| **内存占用** | __________ MB |

---

## 长时间稳定性测试

**测试时长**: __________ 小时

| 时间点 | QPS | 内存 (MB) | CPU (%) | 错误数 | 备注 |
|-------|-----|----------|---------|--------|------|
| 0h | | | | | |
| 1h | | | | | |
| 2h | | | | | |
| 4h | | | | | |
| 8h | | | | | |
| 12h | | | | | |
| 24h | | | | | |

---

## GC 统计

| GC 代 | 次数 | 总耗时 (ms) | 平均耗时 (ms) |
|------|-----|-----------|--------------|
| Gen 0 | | | |
| Gen 1 | | | |
| Gen 2 | | | |

**GC 占用时间百分比**: __________%

---

## 协议性能对比

### JMP 协议

| 消息大小 | QPS | 吞吐量 | 平均延迟 |
|---------|-----|--------|---------|
| 100B | | | |
| 1KB | | | |
| 10KB | | | |

### PureText 协议

| 消息大小 | QPS | 吞吐量 | 平均延迟 |
|---------|-----|--------|---------|
| 100B | | | |
| 1KB | | | |
| 10KB | | | |

---

## 连接池性能测试

**连接池大小**: __________

| 指标 | 使用连接池 | 不使用连接池 | 提升 |
|-----|----------|------------|------|
| QPS | | | |
| 平均延迟 (ms) | | | |
| 连接建立次数 | | | |

---

## 瓶颈分析

### 性能瓶颈

- [ ] CPU 受限
- [ ] 内存受限
- [ ] 网络带宽受限
- [ ] 磁盘 I/O 受限
- [ ] GC 频繁
- [ ] 其他: ___________________________

### 主要问题

1. _______________________________________________________
2. _______________________________________________________
3. _______________________________________________________

---

## 优化措施

### 已尝试的优化

| 优化措施 | 效果 | 备注 |
|---------|------|------|
| | | |
| | | |
| | | |

### 待尝试的优化

- [ ] _______________________________________________________
- [ ] _______________________________________________________
- [ ] _______________________________________________________

---

## 结论

**整体评价**: ___________________________________________________

**推荐使用场景**: _______________________________________________

**不推荐场景**: _________________________________________________

**其他备注**:

_______________________________________________________________
_______________________________________________________________
_______________________________________________________________
